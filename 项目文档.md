# Botania Tweaks Reborn - 项目文档

## 项目概述

Botania Tweaks Reborn 是一个针对 Minecraft 1.20.1 的模组，基于 quat1024 的原始 Botania Tweaks 模组进行重构和改进。该模组为 Botania（植物魔法）模组提供了各种调整、优化和新增功能，旨在改善玩家的游戏体验和为整合包制作者提供更多定制选项。

原始 Botania Tweaks 是一个包含对 Botania 进行各种小调整的模组，主要围绕添加更多配置选项、微小便利性、增加挑战性或只是有趣的功能。所有调整都是可配置的。

## 技术规格

- **Minecraft 版本**: 1.20.1
- **Forge 版本**: 47.4.13
- **模组版本**: 2.0.1-1.20.1
- **Java 版本**: 21
- **许可证**: MIT
- **作者**: yunxi
- **模组ID**: botania_tweaks
- **原始项目**: https://github.com/quat1024/BotaniaTweaks (已归档)
- **原始许可证**: Mozilla Public License v2.0

## 项目结构

```
Botania Tweaks Reborn/
├── build.gradle                  # Gradle 构建配置
├── gradle.properties            # 项目属性配置
├── settings.gradle              # Gradle 设置
├── src/
│   └── main/
│       ├── java/
│       │   └── org/
│       │       └── yunxi/
│       │           └── botania_tweaks/
│       │               ├── BotaniaTweaks.java    # 主模组类
│       │               └── mixin/                # Mixin 类目录（当前为空）
│       └── resources/
│           ├── botania_tweaks.mixins.json        # Mixin 配置
│           ├── pack.mcmeta                       # 资源包元数据
│           └── META-INF/
│               └── mods.toml                     # 模组元数据
└── gradle/                           # Gradle 包装器
```

## 依赖项

### 必需依赖
- **Minecraft Forge**: 47.4.13
- **Botania**: 1.20.1-450-FORGE
- **Patchouli**: 1.20.1-84.1-FORGE

### 可选依赖
- **Just Enough Items (JEI)**: 15.20.0.100
- **EMI**: 1.1.22+1.20.1

## 核心功能

基于原始 Botania Tweaks 模组的功能，Botania Tweaks Reborn 将实现以下功能类别：

### 平衡性调整
- **被动衰减计时器**: 设置为任何你想要的值...只要比默认值短
- **额外花朵衰减**: 选择额外的花朵体验被动衰减，甚至不是被动的花朵！
- **每花朵不同衰减时间**: 为不同花朵设置不同的衰减时间
- **Mana Fluxfield FE输出调整**: 削弱或增强 FE 输出，以匹配你的整合包的 FE 生态系统
- **国王之律法钥匙伤害**: 更改国王之律法钥匙的伤害
- **强制玻璃花园成本**: 强制 Orechid 在普通世界中以玻璃花园成本运行（这真的很OP）
- **Rosa Arcana 魔力输出增强**: 当 Rosa Arcana 拾取经验球时，增强其魔力输出
- **魔力风暴输出调整**: 削弱或增强来自魔力风暴电荷的魔力输出
- **限制 TNT 类型**: 使熵变之花只接受原版 TNT
- **拒绝复制的 TNT**: 使熵变之花拒绝来自 TNT 复制装置的 TNT
- **高级模式工艺箱**: 使工艺箱以一种奇怪的方式使用魔力
- **高级困难模式工艺箱**: 非常严格的魔力输入要求；在不浪费大量魔力的情况下极难自动化
- **高级模式七色花**: 每次获得花朵时打乱颜色顺序

### 整合包制作者工具
- **解锁花瓣炼药台**: "解锁"花瓣炼药台，允许任何物品在你的配方中被接受
- **自定义大地聚合配方**: 创建你自己的大地聚合配方，具有自定义多重结构、粒子颜色，甚至多重结构转换。包含 JEI 支持！
- **自定义聚合配方页面**: 为这些自定义聚合配方创建你自己的植物魔法之书页面
- **NBT感知物品匹配**: 在花瓣炼药台和符文祭坛中使用 NBT 感知的物品匹配逻辑
- **罪孽魔力池大小**: 更改罪孽魔力池的大小
- **附魔能力调整**: 更改 Botania 比邻石相对于书架的附魔能力
- **进度触发器**: 两个进度触发器，所有玩家在生成一定量魔力后将获得，可选择限制花朵类型
- **水碗机制**: 即使不需要玻璃花园世界，也可以启用"点击水创建水碗"机制

### 有趣调整
- **盆栽小土豆**: 你可以把小土豆放在花盆里。它非常可爱
- **星系土豆**: 一个八重压缩的小土豆。一米宽，彩虹色。也非常可爱
- **羊吃草**: 羊可以吃自定义的 Botania 草，就像它们可以吃普通草一样

### 生活质量改进
- **自动化末影空气**: 在末地维度使用发射器自动化合成末影空气
- **自动放置火花**: 放置诸如 corporea 漏斗、corporea 水晶方块等方块时，自动放置 Corporea 火花并用花粉装饰它们。永远不要再忘记 Corporea 火花了！

### 模组兼容性调整
- **Avaritia 兼容**: 如果存在 Avaritia 1.1x，将添加一个 Dire 工艺箱：它是一个九乘九的工艺箱，能够制作所有你喜欢的极限合成配方
- **扩展工艺兼容**: 如果存在 Extended Crafting，将提供四个扩展工艺箱：从 3x3 到 9x9，它们能够制作所有你喜欢的扩展工艺台配方
- **JEI 集成**: 如果存在 JEI，corporea 热键现在可以在书签上工作（从 1.14 版本回传的修复）
- **Floralchemy 支持**: 适用于 Botania 中所有功能花朵的调整也适用于 Floralchemy 的 Petro Petunia
- **不支持 ExtraBotany**: 请注意，ExtraBotania 不受支持，也永远不会受支持

## 安装与使用

### 安装要求
1. 安装 Minecraft 1.20.1
2. 安装 Forge 47.4.13
3. 安装 Botania 模组
4. 安装 Botania Tweaks Reborn 模组

### 配置
模组配置文件位于游戏目录的 `config/botania_tweaks.toml`（未来版本中将会添加），允许用户启用/禁用各种调整功能。

**重要提示**: 所有调整默认关闭，除非在配置中启用。这与原始 Botania Tweaks 模组的行为一致。

### 兼容性说明
- 原始模组包含一个兼容性修复：如果某些模组仍然查找旧名称而不是重新映射，可以通过传递系统属性 `botaniatweaks.awful=true` 来激活额外的类转换器，为 ItemStack 和 ResourceLocation 添加旧名称下的方法。

## 开发信息

### 构建说明
1. 克隆或下载项目源代码
2. 使用 Gradle 构建项目：
   ```
   gradlew build
   ```
3. 构建产物位于 `build/libs/` 目录

### 开发环境设置
1. 导入项目到 IDE（推荐 IntelliJ IDEA 或 Eclipse）
2. 运行 `gradlew genIntellijRuns`（IntelliJ）或相应任务（Eclipse）
3. 在 IDE 中运行配置好的启动任务

### 代码来源说明
- 部分代码改编自 Vazkii 的 Botania
- 部分代码改编自 Thiakil 的 Gotta Go Fast（MIT 许可证）

## 贡献指南

1. Fork 项目
2. 创建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 版本历史

### 当前版本: 2.0.1-1.20.1
- 重构并更新到 Minecraft 1.20.1
- 更新 Forge 依赖到 47.4.13
- 基础项目结构搭建

### 原始版本历史（参考）
- **1.6.1** (1.12.2): 移除了错误添加的 hydroangeas 衰减配置
- **1.6.0**: 移除了不平衡的 Corporea Spork 和 Galactic Spork，移除了"超级熵变之花"调整，所有调整默认关闭
- **1.1.0**: 添加了使用 CraftTweaker 为自定义聚合配方创建植物魔法之书页面的功能

## 许可证

原始 Botania Tweaks 使用 Mozilla Public License v2.0。这意味着：
- 对 Botania Tweaks 的修改必须使用相同的许可证
- 使用它的整合包不需要（但如果分发此模组的自定义修改版本，则必须在相同许可证下提供更改）

本重构项目使用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件

## 致谢

- 原始 Botania Tweaks 模组的作者 quat1024
- Botania 模组团队（Vazkii 等）
- Minecraft Forge 团队
- Gotta Go Fast 模组的作者 Thiakil
- 所有贡献者和测试者

## 支持与反馈

如有问题或建议，请通过以下方式联系：
- GitHub Issues: [项目仓库问题页面]
- 社区讨论: [相关社区链接]

## 相关链接

- 原始项目: https://github.com/quat1024/BotaniaTweaks (已归档)
- CurseForge 页面: https://www.curseforge.com/minecraft/mc-mods/botania-tweaks
- Botania 模组: https://botaniamod.net/